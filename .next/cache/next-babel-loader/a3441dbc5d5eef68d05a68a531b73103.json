{"ast":null,"code":"var __jsx = React.createElement;\n//做一個頁面是沒有mailbox時要新增一個mailbox\nimport React, { Component } from 'react';\nimport { Link } from '../routes';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Container from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\nimport { Card, Table } from 'react-bootstrap';\nimport web3 from '../ethereum/web3';\nimport { Router } from '../routes';\nimport mailbox from '../ethereum/mailbox';\nimport vote from '../ethereum/vote';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Mb_addr :props.query.address,\n      loading: false,\n      loading2: false,\n      errorMessage: ''\n    }; //console.log(props.query.address);//擷取這個網址的url那part的address(from routes??)  \n    //this.render_join = this.render_join.bind(this);\n\n    this.render_self = this.render_self.bind(this);\n  }\n\n  async render_join() {\n    var return_html = '';\n    const Mailbox = mailbox(this.props.query.address);\n    let join = await Mailbox.methods.return_join_list().call();\n\n    for (let index = 0; index < join.length; index++) {\n      let v_addr = join[index];\n      let v = vote(v_addr);\n      let v_name = await v.methods.return_question().call();\n      let v_d = await v.methods.return_time().call();\n      return_html += '<tr><td>' + (index + 1).toString() + '</td><td>' + v_name + '</td><td>' + v_addr + '</td><td>' + v_d + '</td><td><Link route=\"/vote/' + v_addr + '\">link</Link></td></tr>';\n    }\n\n    return return_html;\n  }\n\n  async render_self() {}\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\",\n      integrity: \"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\",\n      crossOrigin: \"anonymous\"\n    }), __jsx(Container, null, __jsx(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      style: {\n        width: \"100%\"\n      }\n    }, __jsx(Navbar.Brand, null, __jsx(Link, {\n      route: \"/vote\"\n    }, __jsx(\"a\", {\n      style: {\n        color: \"white\",\n        width: \"100px\"\n      }\n    }, \"Vote\"))), __jsx(Nav, {\n      className: \"mr-auto\",\n      style: {\n        width: \"50%\"\n      }\n    }, __jsx(Link, {\n      route: \"/status\"\n    }, __jsx(\"a\", {\n      style: {\n        color: \"white\",\n        width: \"100px\"\n      }\n    }, \"Status\")), __jsx(Link, {\n      route: \"/admin\"\n    }, __jsx(\"a\", {\n      style: {\n        color: \"white\",\n        width: \"100px\"\n      }\n    }, \"CreateVote\"))), __jsx(Form, {\n      inline: true\n    }, __jsx(\"div\", {\n      style: {\n        color: \"white\"\n      }\n    }, \" inesrt your vote contract address here  ->   \"), __jsx(FormControl, {\n      type: \"text\",\n      placeholder: \"Search\",\n      className: \"mr-sm-2\"\n    }), __jsx(Button, {\n      variant: \"outline-info\"\n    }, \"Search\"))), __jsx(\"div\", {\n      style: {\n        width: '100%'\n      }\n    }, __jsx(\"h2\", {\n      style: {\n        width: '75%',\n        margin: \"auto\",\n        marginTop: \"3%\"\n      }\n    }, \"Vote List (the vote you are invited)\"), __jsx(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      size: \"sm\",\n      style: {\n        width: '75%',\n        margin: \"auto\",\n        marginTop: \"3%\"\n      }\n    }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"vote name\"), __jsx(\"th\", null, \"vote address\"), __jsx(\"th\", null, \"due date\"), __jsx(\"th\", null, \"link\"))), __jsx(\"tbody\", null, this.render_join))), __jsx(\"div\", {\n      style: {\n        width: '100%'\n      }\n    }, __jsx(\"h2\", {\n      style: {\n        width: '75%',\n        margin: \"auto\",\n        marginTop: \"3%\"\n      }\n    }, \"Vote Admin List (the vote you create)\"), __jsx(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      size: \"sm\",\n      style: {\n        width: '75%',\n        margin: \"auto\",\n        marginTop: \"3%\"\n      }\n    }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"vote name\"), __jsx(\"th\", null, \"vote address\"), __jsx(\"th\", null, \"next step due date\"), __jsx(\"th\", null, \"nextstep\"))), __jsx(\"tbody\", null, __jsx(\"tr\", null, __jsx(\"td\", null, \"1\"), __jsx(\"td\", null, \"should everyone wear mask on campus\"), __jsx(\"td\", null, \"0x1234556778999888\"), __jsx(\"td\", null, \"7/14\"), __jsx(\"td\", null, __jsx(Link, {\n      route: \"/vote\"\n    }, \"update setting\"))), __jsx(\"tr\", null, __jsx(\"td\", null, \"2\"), __jsx(\"td\", null, \"should everyone wear mask on campus\"), __jsx(\"td\", null, \"0x1234556778999888\"), __jsx(\"td\", null, \"7/14\"), __jsx(\"td\", null, __jsx(Link, {\n      route: \"/vote\"\n    }, \"distribute vote contract\"))), __jsx(\"tr\", null, __jsx(\"td\", null, \"3\"), __jsx(\"td\", null, \"should everyone wear mask on campus\"), __jsx(\"td\", null, \"0x1234556778999888\"), __jsx(\"td\", null, \"7/14\"), __jsx(\"td\", null, __jsx(Link, {\n      route: \"/vote\"\n    }, \"tally\"))))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/suvincent/vote-web/pages/home.js"],"names":["React","Component","Link","Navbar","Nav","Container","Form","FormControl","Button","Card","Table","web3","Router","mailbox","vote","Home","constructor","props","state","loading","loading2","errorMessage","render_self","bind","render_join","return_html","Mailbox","query","address","join","methods","return_join_list","call","index","length","v_addr","v","v_name","return_question","v_d","return_time","toString","render","width","color","margin","marginTop"],"mappings":"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","sourcesContent":["//做一個頁面是沒有mailbox時要新增一個mailbox\r\nimport React, { Component } from 'react';\r\nimport{Link}from '../routes';\r\n\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Container from 'react-bootstrap/Nav';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Card,Table} from 'react-bootstrap';\r\nimport web3 from '../ethereum/web3'\r\nimport {Router}from '../routes';\r\nimport mailbox from '../ethereum/mailbox';\r\nimport vote from '../ethereum/vote';\r\nclass Home extends Component {\r\n        constructor(props) {\r\n          super(props);\r\n          this.state ={\r\n           // Mb_addr :props.query.address,\r\n            loading : false,\r\n            loading2: false,\r\n            errorMessage:''\r\n          };\r\n        //console.log(props.query.address);//擷取這個網址的url那part的address(from routes??)  \r\n        //this.render_join = this.render_join.bind(this);\r\n        this.render_self= this.render_self.bind(this);\r\n        }\r\n    \r\n    async render_join(){\r\n      var return_html = '';\r\n      const Mailbox = mailbox(this.props.query.address);\r\n      let join = await Mailbox.methods.return_join_list().call();\r\n      for (let index = 0; index < join.length; index++) {\r\n        let v_addr = join[index];\r\n        let v = vote(v_addr);\r\n        let v_name = await v.methods.return_question().call();\r\n        let v_d = await v.methods.return_time().call();\r\n        return_html+='<tr><td>'+(index+1).toString()+'</td><td>'+v_name+'</td><td>'+v_addr+'</td><td>'+v_d+'</td><td><Link route=\"/vote/'+v_addr+'\">link</Link></td></tr>';\r\n      }\r\n      return return_html;\r\n    }\r\n    async render_self(){\r\n\r\n    }\r\n\r\n    render() {\r\n        return(\r\n          <>\r\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\" integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\" crossOrigin=\"anonymous\"/>\r\n          <Container>\r\n          <Navbar bg=\"dark\" variant=\"dark\"style={{width:\"100%\"}}>\r\n             <Navbar.Brand ><Link route=\"/vote\" ><a style={{color: \"white\", width:\"100px\"}}>Vote</a></Link></Navbar.Brand>\r\n              <Nav className=\"mr-auto\" style={{width:\"50%\"}}>\r\n                 <Link route=\"/status\" ><a style={{color: \"white\", width:\"100px\"}}>Status</a></Link>\r\n                 <Link route=\"/admin\" ><a style={{color: \"white\", width:\"100px\"}}>CreateVote</a></Link>\r\n              </Nav>\r\n             <Form inline>\r\n             <div style={{color : \"white\"}} > inesrt your vote contract address here  -&gt;   </div>\r\n             <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n             <Button variant=\"outline-info\">Search</Button>\r\n             </Form>\r\n         </Navbar>\r\n         \r\n         <div style={{width: '100%'}}>\r\n         <h2 style = {{width :'75%',margin:\"auto\",marginTop : \"3%\"}}>Vote List (the vote you are invited)</h2>\r\n         <Table striped bordered hover size=\"sm\" style = {{width :'75%',margin:\"auto\",marginTop : \"3%\"}}>\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>vote name</th>\r\n              <th>vote address</th>\r\n              <th>due date</th>\r\n              <th>link</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.render_join}\r\n            {/* \r\n            <tr>\r\n              <td>1</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >link</Link></td>\r\n            </tr>\r\n            <tr>\r\n              <td>2</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >link</Link></td>\r\n            </tr>\r\n            <tr>\r\n              <td>3</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >link</Link></td>\r\n            </tr>\r\n            */}\r\n          </tbody>\r\n        </Table>\r\n        \r\n        </div>\r\n        <div style={{width: '100%'}}>\r\n        <h2 style = {{width :'75%',margin:\"auto\",marginTop : \"3%\"}}>Vote Admin List (the vote you create)</h2>\r\n         <Table striped bordered hover size=\"sm\" style = {{width :'75%',margin:\"auto\",marginTop : \"3%\"}}>\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>vote name</th>\r\n              <th>vote address</th>\r\n              <th>next step due date</th>\r\n              <th>nextstep</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>1</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >update setting</Link></td>\r\n            </tr>\r\n            <tr>\r\n              <td>2</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >distribute vote contract</Link></td>\r\n            </tr>\r\n            <tr>\r\n              <td>3</td>\r\n              <td>should everyone wear mask on campus</td>\r\n              <td>0x1234556778999888</td>\r\n              <td>7/14</td>\r\n              <td><Link route=\"/vote\" >tally</Link></td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n        </div>\r\n       </Container>\r\n         </>\r\n    )\r\n    }\r\n}\r\n\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}