{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Table, Button } from 'semantic-ui-react';\nimport Layout from '../../../components/Layout';\nimport SchoolRow from '../../../components/SchoolRow';\nimport verify from '../../../ethereum/academic/verify';\nimport { Link } from '../../../routes';\n\nvar StudentPage = /*#__PURE__*/function (_Component) {\n  _inherits(StudentPage, _Component);\n\n  var _super = _createSuper(StudentPage);\n\n  function StudentPage() {\n    _classCallCheck(this, StudentPage);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(StudentPage, [{\n    key: \"renderRows\",\n    value: function renderRows() {\n      return this.props.schools.map(function (school, index) {\n        return __jsx(SchoolRow, {\n          key: index,\n          school: school\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Header = Table.Header,\n          Row = Table.Row,\n          HeaderCell = Table.HeaderCell,\n          Body = Table.Body;\n      return __jsx(Layout, null, __jsx(\"h1\", null, \"All verified schools\"), __jsx(Link, {\n        route: \"/Academic/school/index\"\n      }, __jsx(\"a\", null, \"back\")), __jsx(Table, null, __jsx(Header, null, __jsx(Row, null, __jsx(HeaderCell, null, \"School\\u2002Address\"))), __jsx(Body, null, this.renderRows())));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var schoolCount, schools;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return verify.methods.getSchoolsCount().call();\n\n              case 2:\n                schoolCount = _context.sent;\n                _context.next = 5;\n                return Promise.all(Array(parseInt(schoolCount)).fill().map(function (element, index) {\n                  return verify.methods.schools(index).call();\n                }));\n\n              case 5:\n                schools = _context.sent;\n                console.log(schools);\n                return _context.abrupt(\"return\", {\n                  schools: schools\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return StudentPage;\n}(Component);\n\nexport default StudentPage;","map":{"version":3,"sources":["C:/Users/user/Desktop/college/Blockchain/DApp/nextjs-web/pages/Academic/school/schoolList.js"],"names":["React","Component","Table","Button","Layout","SchoolRow","verify","Link","StudentPage","props","schools","map","school","index","Header","Row","HeaderCell","Body","renderRows","methods","getSchoolsCount","call","schoolCount","Promise","all","Array","parseInt","fill","element","console","log"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,mBAA9B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,SAASC,IAAT,QAAqB,iBAArB;;IAEMC,W;;;;;;;;;;;;;iCAeS;AACX,aAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,GAAnB,CAAuB,UAACC,MAAD,EAASC,KAAT,EAAmB;AAC/C,eACE,MAAC,SAAD;AACE,UAAA,GAAG,EAAEA,KADP;AAEE,UAAA,MAAM,EAAED;AAFV,UADF;AAMD,OAPM,CAAP;AAQD;;;6BAEQ;AAAA,UACCE,MADD,GACmCZ,KADnC,CACCY,MADD;AAAA,UACSC,GADT,GACmCb,KADnC,CACSa,GADT;AAAA,UACcC,UADd,GACmCd,KADnC,CACcc,UADd;AAAA,UAC0BC,IAD1B,GACmCf,KADnC,CAC0Be,IAD1B;AAGP,aACE,MAAC,MAAD,QACE,yCADF,EAEE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAb,SACE,wBADF,CAFF,EAKE,MAAC,KAAD,QACE,MAAC,MAAD,QACE,MAAC,GAAD,QACE,MAAC,UAAD,8BADF,CADF,CADF,EAME,MAAC,IAAD,QACG,KAAKC,UAAL,EADH,CANF,CALF,CADF;AAkBD;;;;;;;;;;;uBA7C2BZ,MAAM,CAACa,OAAP,CAAeC,eAAf,GAAiCC,IAAjC,E;;;AAApBC,gBAAAA,W;;uBAEgBC,OAAO,CAACC,GAAR,CACpBC,KAAK,CAACC,QAAQ,CAACJ,WAAD,CAAT,CAAL,CAA6BK,IAA7B,GAAoChB,GAApC,CAAwC,UAACiB,OAAD,EAAUf,KAAV,EAAoB;AAC1D,yBAAOP,MAAM,CAACa,OAAP,CAAeT,OAAf,CAAuBG,KAAvB,EAA8BQ,IAA9B,EAAP;AACD,iBAFD,CADoB,C;;;AAAhBX,gBAAAA,O;AAMNmB,gBAAAA,OAAO,CAACC,GAAR,CAAYpB,OAAZ;iDAEO;AAAEA,kBAAAA,OAAO,EAAPA;AAAF,iB;;;;;;;;;;;;;;;;;;;EAZeT,S;;AAkD1B,eAAeO,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Table, Button } from 'semantic-ui-react';\r\nimport Layout from '../../../components/Layout';\r\nimport SchoolRow from '../../../components/SchoolRow';\r\nimport verify from '../../../ethereum/academic/verify';\r\nimport { Link } from '../../../routes';\r\n\r\nclass StudentPage extends Component {\r\n  static async getInitialProps() {\r\n    const schoolCount = await verify.methods.getSchoolsCount().call();\r\n\r\n    const schools = await Promise.all(\r\n      Array(parseInt(schoolCount)).fill().map((element, index) => {\r\n        return verify.methods.schools(index).call();\r\n      })\r\n    );\r\n\r\n    console.log(schools);\r\n\r\n    return { schools };\r\n  }\r\n\r\n  renderRows() {\r\n    return this.props.schools.map((school, index) => {\r\n      return (\r\n        <SchoolRow \r\n          key={index}\r\n          school={school}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { Header, Row, HeaderCell, Body } = Table;\r\n\r\n    return (\r\n      <Layout>\r\n        <h1>All verified schools</h1>\r\n        <Link route={\"/Academic/school/index\"}>\r\n          <a>back</a>\r\n        </Link>\r\n        <Table>\r\n          <Header>\r\n            <Row>\r\n              <HeaderCell>School&ensp;Address</HeaderCell>\r\n            </Row>\r\n          </Header>\r\n          <Body>\r\n            {this.renderRows()}\r\n          </Body>\r\n        </Table>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StudentPage;"]},"metadata":{},"sourceType":"module"}